<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReMarkable Church AI ‚Äî Project 13 (No-Build Prototype)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body { background:#f9fafb; color:#111827; }
      .card { border-radius: 1rem; border: 1px solid #e5e7eb; box-shadow: 0 1px 2px rgba(0,0,0,.04); background:#fff; padding:1.25rem; }
      .btn { padding:.5rem 1rem; border-radius: 1rem; border:1px solid #e5e7eb; box-shadow: 0 1px 2px rgba(0,0,0,.04); font-size:.9rem; }
      .btn:hover { box-shadow: 0 2px 6px rgba(0,0,0,.08); }
      .btn-primary { background:#000; color:#fff; }
      .input { width:100%; border:1px solid #e5e7eb; border-radius:.75rem; padding:.5rem .75rem; outline:none; }
      .input:focus { box-shadow: 0 0 0 2px rgba(0,0,0,.6); }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const {useMemo, useState} = React;

      const demoZip = "74133";
      const demoCommunity = {
        zip: demoZip,
        population: 47000,
        youthPct: 0.18,
        youthRange: "13‚Äì24",
        schools: [
          { name: "Union High School", distance: "2.1 mi" },
          { name: "Jenks High School", distance: "4.0 mi" },
          { name: "Memorial High School", distance: "3.8 mi" },
        ],
        notes: [
          "Weeknight sports and part-time jobs compress availability",
          "High smartphone use ‚Üí short, clear comms win",
          "Parent partnership improves retention",
        ],
      };

      function Progress({ step }) {
        const items = ["Start", "Profile", "Snapshot", "Plan", "Coach"];
        return (
          <div className="mb-4">
            <div className="grid grid-cols-5 gap-2">
              {items.map((label, idx) => (
                <div key={label} className={"h-2 rounded-full " + (idx <= step ? "bg-black" : "bg-gray-200")}></div>
              ))}
            </div>
            <div className="text-xs text-gray-500 mt-1">Step {step + 1} of {items.length} ‚Äî {items[step]}</div>
          </div>
        );
      }

      function Card({children, className=""}) {
        return <div className={"card " + className}>{children}</div>;
      }
      function Button({children, className="", ...props}) {
        return <button className={"btn " + className} {...props}>{children}</button>;
      }
      function Input(props) {
        return <input className="input" {...props}/>;
      }
      function Select({value, onChange, children}) {
        return <select className="input" value={value} onChange={onChange}>{children}</select>;
      }

      function KeyMetric({ label, value, sub }) {
        return (
          <Card>
            <div className="text-xs uppercase tracking-wide text-gray-500 mb-1">{label}</div>
            <div className="text-2xl font-semibold">{value}</div>
            {sub && <div className="text-sm text-gray-500 mt-1">{sub}</div>}
          </Card>
        );
      }

      function MonthSection({ month, title, tasks }){
        return (
          <Card className="space-y-2">
            <div className="flex items-center justify-between">
              <div className="text-lg font-semibold">Month {month}: {title}</div>
            </div>
            <ul className="list-disc pl-5 space-y-2">
              {tasks.map((t, i) => (
                <li key={i} className="leading-snug">
                  <span className="font-medium">{t.label}</span>
                  {t.meta && <span className="text-gray-500"> ‚Äî {t.meta}</span>}
                </li>
              ))}
            </ul>
          </Card>
        );
      }

      function App(){
        const [step, setStep] = React.useState(0);
        const [zip, setZip] = React.useState(new URLSearchParams(location.search).get("zip") || "");
        const [profile, setProfile] = React.useState({
          churchSize: "",
          youthCount: "",
          budget: "standard",
          challenge: "retain",
          style: "mixed",
        });

        const estimatedYouth = Math.round(demoCommunity.population * demoCommunity.youthPct);

        const target = Math.max(20, Math.ceil((Number(profile.youthCount || 0) || 12) * 1.8));
        const plan = React.useMemo(() => ({
          goals: {
            attendance: target,
            mentors: Math.ceil(target / 6),
            firstTimers: Math.ceil(target * 1.5),
          },
          months: [
            {
              title: "Foundation & Welcome",
              tasks: [
                { label: "Launch Bring‚Äëa‚ÄëFriend night", meta: "wk2 ‚Ä¢ $40 supplies" },
                { label: "Start 2‚Äì3 small groups", meta: "6‚Äì8 per group" },
                { label: "Recruit & screen mentors", meta: Math.ceil(target/6) + " needed" },
                { label: "Parent intro email + weekly recap", meta: "$0" },
              ],
            },
            {
              title: "Belonging Systems",
              tasks: [
                { label: "Train greeters + Sit‚Äëwith‚ÄëMe role" },
                { label: "3‚Äëtouch follow‚Äëup for new students" },
                { label: "Service project lite (1.5h)", meta: "snack packs" },
                { label: "Parent Night #1 (Q&A)" },
              ],
            },
            {
              title: "Leaders & Stories",
              tasks: [
                { label: "Mentor huddles (bi‚Äëweekly)" },
                { label: "Story Night #1" },
                { label: "4‚Äëweek micro‚Äëseries", meta: "20‚Äëmin talk + 25‚Äëmin groups" },
              ],
            },
            {
              title: "Community & Momentum",
              tasks: [
                { label: "Outreach event with stations", meta: "invite nearby churches" },
                { label: "Add 1‚Äì2 small groups" },
                { label: "Follow‚Äëups within 48 hours" },
              ],
            },
            {
              title: "Depth & Ownership",
              tasks: [
                { label: "Service project #2 (student‚Äëled)" },
                { label: "Student leadership team", meta: "media/prayer/service/welcome" },
                { label: "Story Night #2 (parents invited)" },
              ],
            },
            {
              title: "Celebrate & Multiply",
              tasks: [
                { label: "Faith‚Äëstep class + celebration Sunday" },
                { label: "Evaluate metrics & plan next 6‚Äëmo" },
                { label: "Recruit next mentor cohort" },
              ],
            },
          ],
        }), [profile.youthCount]);

        return (
          <div className="min-h-screen">
            <div className="sticky top-0 z-10 bg-white/80 backdrop-blur border-b">
              <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <div className="w-8 h-8 rounded-xl bg-black text-white flex items-center justify-center font-bold">‚úùÔ∏é</div>
                  <div className="font-semibold">ReMarkable Church AI ‚Äî Project 13</div>
                </div>
                <div className="text-xs text-gray-500">No‚Äëbuild Prototype</div>
              </div>
            </div>

            <div className="max-w-6xl mx-auto p-4 grid md:grid-cols-3 gap-4">
              <div className="md:col-span-2 space-y-4">
                <Progress step={step} />

                {step === 0 && (
                  <Card className="space-y-4">
                    <div className="text-2xl font-bold">Welcome, Pastor üëã</div>
                    <p className="text-gray-600">Scan from your book ‚Üí you‚Äôre here. Enter your ZIP to generate a local, 6‚Äëmonth plan aligned to Project 13. You can use demo ZIP <span className="font-medium">{demoZip}</span>.</p>
                    <div className="grid sm:grid-cols-3 gap-3">
                      <div className="sm:col-span-2">
                        <Input placeholder="Enter ZIP code" value={zip} onChange={(e)=>setZip(e.target.value)} />
                      </div>
                      <Button className="btn-primary" onClick={()=>{ if(!zip) setZip(demoZip); setStep(1); }}>Start</Button>
                    </div>
                    <div className="text-xs text-gray-500">By continuing you agree to basic data use for plan generation. Student safety & privacy policies apply.</div>
                  </Card>
                )}

                {step === 1 && (
                  <Card className="space-y-4">
                    <div className="text-xl font-semibold">Church Profile</div>
                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <div className="text-sm mb-1">Approx. church size</div>
                        <Input type="number" placeholder="e.g., 250" value={profile.churchSize} onChange={e=>setProfile({...profile, churchSize: e.target.value})} />
                      </div>
                      <div>
                        <div className="text-sm mb-1">Active youth last month</div>
                        <Input type="number" placeholder="e.g., 12" value={profile.youthCount} onChange={e=>setProfile({...profile, youthCount: e.target.value})} />
                      </div>

